var tipuesearch = {"pages": [{'title': 'First', 'text': 'Login å¯†ç¢¼:admin \n å¯æ”œç¨‹å¼: portable_2026.7z \xa0 \n çµ„é•·:ç±ƒå¥æ©\xa0\xa0 https://github.com/LanChienEn/w11 \n çµ„å“¡:é»ƒè‚²é©Š\xa0 https://qwe43157.github.io/41136123/ \n \n \n', 'tags': '', 'url': 'First.html'}, {'title': 'BrythonæŒ‡ä»¤å€', 'text': '1 add to 100 æ©Ÿå™¨äººå·¡é‚ è‡ªç”±è¡Œ \n  å°å…¥ brython ç¨‹å¼åº«  \n \n \n \n \n  å•Ÿå‹• Brython  \n \n \n \n  å°å…¥ FileSaver èˆ‡ filereader  \n \n \n \n \n  å°å…¥ ace  \n \n \n \n \n \n \n  å°å…¥ gearUtils-0.9.js Cango é½’è¼ªç¹ªåœ–ç¨‹å¼åº«  \n \n \n \n \n \n \n  è«‹æ³¨æ„, é€™è£¡ä½¿ç”¨ Javascript å°‡ localStorage["kw_py_src1"] ä¸­å­˜åœ¨è¿‘ç«¯ç€è¦½å™¨çš„ç¨‹å¼ç¢¼, ç”±ä½¿ç”¨è€…æ±ºå®šå­˜æª”åç¨± \n \n \n \n  ç´¯åŠ ç¨‹å¼é–‹å§‹  \n \n  ç´¯åŠ ç¨‹å¼çµæŸ     æ©Ÿå™¨äººå·¡é‚ç¨‹å¼é–‹å§‹  \n \n  æ©Ÿå™¨äººå·¡é‚ç¨‹å¼çµæŸ  \n  æ©Ÿå™¨äººè‡ªç”±è¡Œç¨‹å¼é–‹å§‹  \n \n \n \n  æ©Ÿå™¨äººè‡ªç”±è¡Œç¨‹å¼çµæŸ  \n  add 1 to 100 é–‹å§‹  \n \n \n  add 1 to 100 çµæŸ \n  editor1 é–‹å§‹  \n  ç”¨ä¾†é¡¯ç¤ºç¨‹å¼ç¢¼çš„ editor å€åŸŸ  \n \n  ä»¥ä¸‹çš„è¡¨å–®èˆ‡æŒ‰éˆ•èˆ‡å‰é¢çš„ Javascript doSave å‡½å¼ä»¥åŠ FileSaver.min.js äº’ç›¸é…åˆ  \n  å­˜æ“‹è¡¨å–®é–‹å§‹  \n Filename:  .py   \n  å­˜æ“‹è¡¨å–®çµæŸ  \n \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•é–‹å§‹  \n Run   Output   æ¸…é™¤è¼¸å‡ºå€ æ¸…é™¤ç¹ªåœ–å€ Reload \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•çµæŸ  \n \n  ç¨‹å¼åŸ·è¡Œ ouput å€  \n \n  Brython ç¨‹å¼åŸ·è¡Œçš„çµæœ, éƒ½ä»¥ brython_div1 ä½œç‚ºåˆ‡å…¥ä½ç½®  \n \n  editor1 çµæŸ   ##########################################  \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 cango_three_gears BSnake AI Tetris \n  è«‹æ³¨æ„, é€™è£¡ä½¿ç”¨ Javascript å°‡ localStorage["kw_py_src2"] ä¸­å­˜åœ¨è¿‘ç«¯ç€è¦½å™¨çš„ç¨‹å¼ç¢¼, ç”±ä½¿ç”¨è€…æ±ºå®šå­˜æª”åç¨± \n \n \n \n  add 1 to 100 part2 é–‹å§‹  \n \n \n  add 1 to 100 part2 çµæŸ \n  editor2 é–‹å§‹  \n  ç”¨ä¾†é¡¯ç¤ºç¨‹å¼ç¢¼çš„ editor å€åŸŸ  \n \n  ä»¥ä¸‹çš„è¡¨å–®èˆ‡æŒ‰éˆ•èˆ‡å‰é¢çš„ Javascript doSave å‡½å¼ä»¥åŠ FileSaver.min.js äº’ç›¸é…åˆ  \n  å­˜æ“‹è¡¨å–®é–‹å§‹  \n Filename:  .py   \n  å­˜æ“‹è¡¨å–®çµæŸ  \n \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•é–‹å§‹  \n Run   Output   æ¸…é™¤è¼¸å‡ºå€ æ¸…é™¤ç¹ªåœ–å€ Reload \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•çµæŸ  \n \n  ç¨‹å¼åŸ·è¡Œ ouput å€  \n \n  Brython ç¨‹å¼åŸ·è¡Œçš„çµæœ, éƒ½ä»¥ brython_div1 ä½œç‚ºåˆ‡å…¥ä½ç½®  \n \n  editor2 çµæŸ  \n \n', 'tags': '', 'url': 'BrythonæŒ‡ä»¤å€.html'}, {'title': 'Brython', 'text': 'æ©Ÿå™¨äººè‡ªç”±è¡Œ \n Can we bring pythonpad into this page?\xa0 https://pythonpad.github.io/docs/manual.html \xa0 \n from browser import document, html, timer\n \ncanvas = html.CANVAS(width=400, height=400)\nbrython_div = document["brython_div1"]\nbrython_div <= canvas\nctx = canvas.getContext("2d")\n \ndef draw_grid():\n    ctx.clearRect(0, 0, 400, 400)\n    ctx.strokeStyle = "#ccc"\n    ctx.lineWidth = 1\n    for i in range(0, 401, 40):\n        ctx.beginPath()\n        ctx.moveTo(i, 0)\n        ctx.lineTo(i, 400)\n        ctx.stroke()\n        ctx.beginPath()\n        ctx.moveTo(0, i)\n        ctx.lineTo(400, i)\n        ctx.stroke()\n    \n    # ç•«å‡ºé‚Šç•Œ\n    ctx.strokeStyle = "black"\n    ctx.lineWidth = 2\n    ctx.strokeRect(0, 0, 400, 400)\n\ndef draw_robot(x, y):\n    draw_grid()\n    ctx.fillStyle = "blue"\n    ctx.beginPath()\n    ctx.arc(x * 40 + 20, y * 40 + 20, 15, 0, 6.28)\n    ctx.fill()\n\nx, y = 0, 0\ndef move():\n    global x\n    x = (x + 1) % 10\n    draw_robot(x, y)\n\ndraw_grid()\ntimer.set_interval(move, 500) \n ä»¥ä¸‹ç¨‹å¼, æŒ‰ j éš¨ç®­é ­æ–¹å‘å‰é€², æŒ‰ä¸‹ i å‰‡å·¦è½‰ \n from browser import document, html, bind\n\ncanvas = html.CANVAS(width=400, height=400)\nbrython_div = document["brython_div1"]\nbrython_div <= canvas\nctx = canvas.getContext("2d")\n\ncols, rows = 10, 10\ncell = 40\n\n# ä¸Šã€å³ã€ä¸‹ã€å·¦\ndirections = [(0, -1), (1, 0), (0, 1), (-1, 0)]\n\nrobot = {\n    "x": 5,\n    "y": 5,\n    "dir": 0  # åˆå§‹æœå‘ä¸Š\n}\n\ndef draw_grid():\n    ctx.clearRect(0, 0, 400, 400)\n    ctx.strokeStyle = "#ccc"\n    ctx.lineWidth = 1\n    for i in range(0, 401, cell):\n        ctx.beginPath()\n        ctx.moveTo(i, 0)\n        ctx.lineTo(i, 400)\n        ctx.stroke()\n        ctx.beginPath()\n        ctx.moveTo(0, i)\n        ctx.lineTo(400, i)\n        ctx.stroke()\n    ctx.strokeStyle = "black"\n    ctx.lineWidth = 2\n    ctx.strokeRect(0, 0, 400, 400)\n\ndef draw_robot():\n    draw_grid()\n    cx = robot["x"] * cell + cell // 2\n    cy = robot["y"] * cell + cell // 2\n    size = 15\n    d = robot["dir"]\n\n    ctx.fillStyle = "blue"\n    ctx.beginPath()\n    if d == 0:  # ä¸Š\n        ctx.moveTo(cx, cy - size)\n        ctx.lineTo(cx - size, cy + size)\n        ctx.lineTo(cx + size, cy + size)\n    elif d == 1:  # å³\n        ctx.moveTo(cx + size, cy)\n        ctx.lineTo(cx - size, cy - size)\n        ctx.lineTo(cx - size, cy + size)\n    elif d == 2:  # ä¸‹\n        ctx.moveTo(cx, cy + size)\n        ctx.lineTo(cx - size, cy - size)\n        ctx.lineTo(cx + size, cy - size)\n    elif d == 3:  # å·¦\n        ctx.moveTo(cx - size, cy)\n        ctx.lineTo(cx + size, cy - size)\n        ctx.lineTo(cx + size, cy + size)\n    ctx.closePath()\n    ctx.fill()\n\n@bind(document, "keydown")\ndef on_key(e):\n    key = e.key.lower()\n    if key == "i":\n        robot["dir"] = (robot["dir"] - 1) % 4  # å·¦è½‰\n    elif key == "j":\n        dx, dy = directions[robot["dir"]]\n        nx = robot["x"] + dx\n        ny = robot["y"] + dy\n        if 0 <= nx < cols and 0 <= ny < rows:\n            robot["x"] = nx\n            robot["y"] = ny\n    draw_robot()\n\ndraw_robot() \n Optimization: \n é¡Œç›®: ä¸€ä½è£½é€ å•†æƒ³è¨­è¨ˆä¸€å€‹é–‹å£å¼çš„ç›’å­ï¼Œå…¶åº•éƒ¨ç‚ºé•·æ–¹å½¢ï¼Œå¯¬ç‚º xã€é•·ç‚º yï¼Œä¸”ç¸½è¡¨é¢ç©ç‚º 80 å¹³æ–¹å…¬åˆ†ã€‚ è«‹å•è¦ä½¿ç›’å­çš„é«”ç©é”åˆ°æœ€å¤§ï¼Œæ‡‰è©²é¸ç”¨å“ªäº›å°ºå¯¸ï¼Ÿ \n ç›´æ¥åˆ©ç”¨ Python ä»¥  Differential Evoluation  é‹ç®—:\xa0 de_volume_max.py \n åƒè€ƒ:\xa0 \n de_volume_max.c ,\xa0 de_volume_max.v \n ä¹Ÿå¯ä»¥æ¡ç¶²é å‰ç«¯ä½¿ç”¨ Brythonï¼Œå¾Œç«¯æ¡ Python åŸ·è¡Œé‹ç®—å¾Œå°‡è³‡æ–™å‚³å›ç¶²é :\xa0 brython_w_flask.7z \n', 'tags': '', 'url': 'Brython.html'}, {'title': 'PyodideæŒ‡ä»¤å€', 'text': '\n \n \n version   hello   1 add to 100   æ©Ÿå™¨äººå·¡é‚ è‡ªç”±è¡Œ   numpy_ode \n  Ace Editor Scripts  \n \n \n \n \n \n \n \n \n  Editor 1  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 \n  Editor 2  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'PyodideæŒ‡ä»¤å€.html'}, {'title': 'Pyodide', 'text': 'Pyodide æ©Ÿå™¨äººå·¡é‚ \n Pyodide å°å…¥å®¢è£½åŒ–æ¨¡çµ„: \n const code = `\n# å®šç¾©ä¸€å€‹æ¨¡çµ„å…§å®¹\ndef hello():\n    print("Hello from custom module!")\n`;\npyodide.runPython(code);\n \n Volume_max_pyodide_de_short.py \n Volume_max_pyodide_de.py \n \n', 'tags': '', 'url': 'Pyodide.html'}, {'title': 'w12', 'text': '', 'tags': '', 'url': 'w12.html'}, {'title': 'åœ‹æ——æ—‹è½‰', 'text': '# ç•«ä¸­è¯æ°‘åœ‹åœ‹æ——ï¼Œä¸¦å±•ç¤º 90 åº¦èˆ‡ 45 åº¦é †æ™‚é‡æ—‹è½‰ # å°å…¥ doc from browser import document as doc # ä»¥ä¸‹å°‡åˆ©ç”¨ html ç”¢ç”Ÿæ‰€éœ€çš„ç¹ªåœ–ç•«å¸ƒ from browser import html # åˆ©ç”¨ math å‡½å¼åº«åŸ·è¡Œä¸‰è§’å‡½æ•¸é‹ç®— import math \n # --- ç•«å¸ƒèˆ‡ç’°å¢ƒè¨­å®š --- \n # å®šç¾©ç•«å¸ƒå°ºå¯¸ FLAG_W = 600 FLAG_H = 400 # æ—‹è½‰ä¸­å¿ƒé» CENTER_X = FLAG_W / 2 CENTER_Y = FLAG_H / 2 \n # å°‡ç•«å¸ƒæ·»åŠ åˆ° id ç‚º brython_div1 çš„ HTML å…ƒç´ ä¸­ brython_div = doc["brython_div1"] \n # å‰µå»ºæ¨™ç±¤å’Œç•«å¸ƒ brython_div <= html.H3("åŸå§‹åœ‹æ—— (600x400)") canvas_orig = html.CANVAS(width = FLAG_W, height = FLAG_H, id = "flag_orig", style = {"border": "1px solid #ccc"}) brython_div <= canvas_orig \n brython_div <= html.H3("é †æ™‚é‡æ—‹è½‰ 90 åº¦") canvas_90 = html.CANVAS(width = FLAG_W, height = FLAG_H, id = "flag_90", style = {"border": "1px solid #ccc"}) brython_div <= canvas_90 \n brython_div <= html.H3("é †æ™‚é‡æ—‹è½‰ 45 åº¦") canvas_45 = html.CANVAS(width = FLAG_W, height = FLAG_H, id = "flag_45", style = {"border": "1px solid #ccc"}) brython_div <= canvas_45 \n # --- æ ¸å¿ƒç¹ªåœ–å‡½æ•¸ (åœ‹æ——å…§å®¹) --- def draw_flag_content(ctx):  """ç¹ªè£½æœªæ—‹è½‰ç‹€æ…‹çš„åœ‹æ——å…§å®¹ï¼Œæ‰€æœ‰åº§æ¨™éƒ½æ˜¯åŸºæ–¼ (0, 0) èµ·é»"""  flag_w = FLAG_W  flag_h = FLAG_H    # é’å¤©ç™½æ—¥åœ–æ¡ˆçš„ä¸­å¿ƒåº§æ¨™ (ä½æ–¼å·¦ä¸Šå››åˆ†ä¹‹ä¸€è™•)  circle_x = flag_w/4  circle_y = flag_h/4  star_radius = flag_w/8 # ç™½æ—¥å…‰èŠ’åŠå¾‘ \n # 1. æ»¿åœ°ç´… (Red Earth)  ctx.fillStyle=\'rgb(255, 0, 0)\'  ctx.fillRect(0,0,flag_w,flag_h) \n # 2. é’å¤© (Blue Sky)  ctx.fillStyle=\'rgb(0, 0, 150)\'  ctx.fillRect(0,0,flag_w/2,flag_h/2) \n # 3. åäºŒé“å…‰èŠ’ç™½æ—¥ (White Sun with Twelve Rays) - æ¡ç”¨åŸç¨‹å¼ç¢¼é‚è¼¯  ctx.beginPath()  angle = 0  for i in range(24):  # æ¡ç”¨åŸå§‹ç¨‹å¼ç¢¼ä¸­ä¸å¸¸è¦‹çš„è§’åº¦æ­¥é€²ï¼Œç¢ºä¿æ—‹è½‰å‰å¾Œå½¢ç‹€ä¸€è‡´  angle += 5*math.pi*2/12   toX = circle_x + math.cos(angle)*star_radius  toY = circle_y + math.sin(angle)*star_radius  if (i):  ctx.lineTo(toX, toY)  else:  ctx.moveTo(toX, toY)  ctx.closePath()  ctx.fillStyle = \'#fff\'  ctx.fill() \n # 4. ç™½æ—¥:è—åœˆ (Blue Ring)  ctx.beginPath()  # åŸå§‹åŠå¾‘: flag_w * 17 / 240  ctx.arc(circle_x, circle_y, flag_w*17/240, 0, math.pi*2, True)  ctx.closePath()  ctx.fillStyle = \'rgb(0, 0, 149)\'  ctx.fill() \n # 5. ç™½æ—¥:ç™½å¿ƒ (White Center)  ctx.beginPath()  # åŸå§‹åŠå¾‘: flag_w / 16  ctx.arc(circle_x, circle_y, flag_w/16, 0, math.pi*2, True)  ctx.closePath()  ctx.fillStyle = \'#fff\'  ctx.fill() \n # --- ç¹ªè£½å‡½æ•¸ï¼šåŸå§‹åœ‹æ—— --- def draw_original_flag():  ctx = doc["flag_orig"].getContext("2d")  draw_flag_content(ctx) \n # --- ç¹ªè£½å‡½æ•¸ï¼šé †æ™‚é‡æ—‹è½‰ 90 åº¦ --- def draw_90_degree_flag():  ctx = doc["flag_90"].getContext("2d")    # 1. å„²å­˜ç•¶å‰ç‹€æ…‹  ctx.save()    # 2. å¹³ç§»åŸé»åˆ°ç•«å¸ƒä¸­å¿ƒ (600/2, 400/2) = (300, 200)  ctx.translate(CENTER_X, CENTER_Y)    # 3. æ—‹è½‰ 90 åº¦ (Ï€/2) é †æ™‚é‡  ctx.rotate(math.pi / 2)    # 4. å°‡åŸé»å¹³ç§»å›å»ï¼Œä»¥ä¾¿åœ‹æ——å…§å®¹ä»¥ (0, 0) ç‚ºèµ·é»ç¹ªè£½  ctx.translate(-CENTER_X, -CENTER_Y)    # 5. ç¹ªè£½åœ‹æ——å…§å®¹  draw_flag_content(ctx)    # 6. æ¢å¾©ç‹€æ…‹  ctx.restore() \n # --- ç¹ªè£½å‡½æ•¸ï¼šé †æ™‚é‡æ—‹è½‰ 45 åº¦ --- def draw_45_degree_flag():  ctx = doc["flag_45"].getContext("2d")    # 1. å„²å­˜ç•¶å‰ç‹€æ…‹  ctx.save()    # 2. å¹³ç§»åŸé»åˆ°ç•«å¸ƒä¸­å¿ƒ  ctx.translate(CENTER_X, CENTER_Y)    # 3. æ—‹è½‰ 45 åº¦ (Ï€/4) é †æ™‚é‡  ctx.rotate(math.pi / 4)    # 4. å°‡åŸé»å¹³ç§»å›å»  ctx.translate(-CENTER_X, -CENTER_Y)    # 5. ç¹ªè£½åœ‹æ——å…§å®¹  draw_flag_content(ctx)    # 6. æ¢å¾©ç‹€æ…‹  ctx.restore() \n # --- åŸ·è¡Œç¹ªåœ– --- draw_original_flag() draw_90_degree_flag() draw_45_degree_flag() \n', 'tags': '', 'url': 'åœ‹æ——æ—‹è½‰.html'}, {'title': 'æ©Ÿå™¨äººä¸ƒæ®µç¨‹å¼ç¢¼', 'text': '\n #è«‹ä¿®æ­£ä»¥ä¸‹ç¨‹å¼è®“æ©Ÿå™¨äººå¯ä»¥èµ°å‡ºä¸ƒæ®µé¡¯ç¤ºå™¨æ ¼å¼çš„æ•¸å­— from robot_lib import World as BaseWorld, AnimatedRobot as BaseRobot, timer, CELL_SIZE \n # --- 1. å®šç¾©ä¸–ç•Œï¼ˆåŠ å…¥ç´°æ ¼ï¼‰ --- class MyWorld(BaseWorld):  def __init__(self, width=10, height=10, sub_cell=5):  super().__init__(width, height)  self.sub_cell = sub_cell  self.sub_size = CELL_SIZE // sub_cell  self._draw_fine_grid() \n def _draw_fine_grid(self):  ctx = self.layers["grid"].getContext("2d")  ctx.strokeStyle = "#e0e0e0"  ctx.lineWidth = 0.5  # ç•«å‚ç›´ç´°ç·š  for i in range(self.width * self.sub_cell + 1):  x = i * self.sub_size  ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, self.height * CELL_SIZE); ctx.stroke()  # ç•«æ°´å¹³ç´°ç·š  for j in range(self.height * self.sub_cell + 1):  y = j * self.sub_size  ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(self.width * CELL_SIZE, y); ctx.stroke() \n # ç´°æ ¼åº§æ¨™è½‰æ›ç‚ºåƒç´ åº§æ¨™  def sub_to_px(self, sub_x, sub_y):  big_x = sub_x // self.sub_cell  big_y = sub_y // self.sub_cell  offset_x = (sub_x % self.sub_cell) * self.sub_size    # ä¿®æ­£é» 1: åè½‰ç´°æ ¼å…§ Y åç§»é‡ (oy)ï¼Œä½¿ sub_y è¶Šå¤§ (å¾€ä¸‹)ï¼Œpy è¶Šå¤§ (è¢å¹•ä¸Šå¾€ä¸‹)ã€‚  # é€™ç¢ºä¿äº†æˆ‘å€‘å°‡ (sub_x, sub_y) è¦–ç‚º Y è»¸å‘ä¸‹å¢åŠ çš„ç¶²æ ¼åº§æ¨™ã€‚  sub_y_offset = sub_y % self.sub_cell  offset_y = (self.sub_cell - 1 - sub_y_offset) * self.sub_size    px = big_x * CELL_SIZE + offset_x + self.sub_size // 2    # BaseWorld çš„ Y è»¸æ˜¯å¾ä¸‹å¾€ä¸Šã€‚  # ç¸½åƒç´  Y åº§æ¨™ (py) ä»ç„¶éœ€è¦åè½‰ big_yï¼Œä»¥åŒ¹é…è¢å¹•åº§æ¨™ï¼ˆY è»¸å‘ä¸‹ï¼‰ã€‚  py = (self.height - 1 - big_y) * CELL_SIZE + offset_y + self.sub_size // 2  return px, py \n # åœ¨ç´°æ ¼åº§æ¨™ä¸Šç•«ç·š  def draw_line(self, x1, y1, x2, y2):  ctx = self.layers["objects"].getContext("2d")  ctx.strokeStyle = "#d33"  ctx.lineWidth = 9  ctx.lineCap = "round"  ctx.beginPath()  ctx.moveTo(*self.sub_to_px(x1, y1))  ctx.lineTo(*self.sub_to_px(x2, y2))  ctx.stroke() \n # --- 2. å®šç¾©æ©Ÿå™¨äººï¼ˆä»¥ç´°æ ¼ç§»å‹•ï¼‰ --- class MyRobot(BaseRobot):  def __init__(self, world, start_big_x=1, start_big_y=1):  super().__init__(world, start_big_x, start_big_y)  # åˆå§‹ä½ç½®è½‰æ›ç‚ºç´°æ ¼ä¸­å¿ƒ  self.sub_x = start_big_x * world.sub_cell + world.sub_cell // 2  self.sub_y = start_big_y * world.sub_cell + world.sub_cell // 2  self.robot_size = world.sub_size * 1.8 \n # é‡æ–°ç¹ªè£½æ©Ÿå™¨äººï¼ˆä½¿ç”¨ç´°æ ¼åº§æ¨™ï¼‰  def _draw_robot(self):  self.robot_ctx.clearRect(0, 0, self.world.width * CELL_SIZE, self.world.height * CELL_SIZE)  img = self.images[self.facing]  px, py = self.world.sub_to_px(self.sub_x, self.sub_y)  s = self.robot_size  if img.complete:  self.robot_ctx.drawImage(img, px - s//2, py - s//2, s, s) \n # ç¬é–“ç§»å‹•ï¼ˆä¸ç•«ç·šï¼‰  def teleport_to(self, tx, ty):  def action(done):  self.sub_x, self.sub_y = tx, ty  self._draw_robot()  timer.set_timeout(done, 10)  self.queue.append(action)  self._run_queue() \n # ç§»å‹• + ç•«ç·šï¼ˆæœ€æ ¸å¿ƒï¼‰  def move_to(self, tx, ty, draw_trace=True):  def action(done):  def step():  if self.sub_x == tx and self.sub_y == ty:  done(); return  prev_x, prev_y = self.sub_x, self.sub_y \n # è¨ˆç®—æ–¹å‘ä¸¦è½‰å‘ (ç¶­æŒåŸå§‹ç¨‹å¼çš„é‚è¼¯ï¼Œå› å…¶ä¸»è¦ä¿®æ­£é»ä¸åœ¨é€™è£¡)  dx = tx - self.sub_x  dy = ty - self.sub_y  if dx > 0: target = "E"  elif dx < 0: target = "W"  elif dy > 0: target = "N"  else: target = "S" \n # åŒæ­¥è½‰å‘ï¼ˆå®‰å…¨ç‰ˆï¼‰  while self.facing != target:  idx = self.facing_order.index(self.facing)  self.facing = self.facing_order[(idx + 1) % 4] \n # ç§»å‹•ä¸€æ­¥  self.sub_x += 1 if dx > 0 else (-1 if dx < 0 else 0)  self.sub_y += 1 if dy > 0 else (-1 if dy < 0 else 0) \n if draw_trace:  self.world.draw_line(prev_x, prev_y, self.sub_x, self.sub_y)  self._draw_robot()  # èª¿æ•´é€Ÿåº¦ï¼Œè®“ç·šæ¢æ›´å¹³æ»‘  timer.set_timeout(step, 40)  step()  self.queue.append(action)  self._run_queue() \n # --- 3. ä¸ƒæ®µé¡¯ç¤ºå™¨å®šç¾© --- SEGMENTS = {  0:[1,1,1,1,1,1,0], 1:[0,1,1,0,0,0,0], 2:[1,1,0,1,1,0,1],  3:[1,1,1,1,0,0,1], 4:[0,1,1,0,0,1,1], 5:[1,0,1,1,0,1,1],  6:[1,0,1,1,1,1,1], 7:[1,1,1,0,0,0,0], 8:[1,1,1,1,1,1,1],  9:[1,1,1,1,0,1,1] } \n # æ¯å€‹ç·šæ®µçš„ç´°æ ¼åº§æ¨™è·¯å¾‘ï¼ˆç›¸å°åº§æ¨™ï¼‰ # ä¸ƒæ®µé¡¯ç¤ºå™¨çµæ§‹æ˜¯ç›¸å°åº§æ¨™ï¼Œé«˜åº¦ 7 ç´°æ ¼ (0-6)ï¼Œå¯¬åº¦ 4 ç´°æ ¼ (0-3)ã€‚ # é€™è£¡å®šç¾©çš„ PATHS ä»æ˜¯ Y è»¸å‘ä¸‹å¢åŠ  (Y=0 é ‚éƒ¨, Y=6 åº•éƒ¨) PATHS = [  [(0,0),(1,0),(2,0),(3,0)], # A ä¸Š (Y=0)  [(3,0),(3,1),(3,2),(3,3)], # B å³ä¸Š  [(3,3),(3,4),(3,5),(3,6)], # C å³ä¸‹  [(3,6),(2,6),(1,6),(0,6)], # D ä¸‹ (Y=6)  [(0,6),(0,5),(0,4),(0,3)], # E å·¦ä¸‹  [(0,3),(0,2),(0,1),(0,0)], # F å·¦ä¸Š  [(0,3),(1,3),(2,3),(3,3)] # G ä¸­ (Y=3) ] \n def draw_digit(robot, digit, ox, oy):  # ä¿®æ­£é» 2: å¼•å…¥ä¸ƒæ®µé¡¯ç¤ºå™¨çš„é«˜åº¦ (æœ€å¤§ Y åº§æ¨™)  SEGMENT_HEIGHT = 6  if digit not in SEGMENTS: return    for i, on in enumerate(SEGMENTS[digit]):  if not on: continue  path = PATHS[i]    # ä¿®æ­£é» 3: é€²è¡Œ Y åº§æ¨™åè½‰ï¼šy_fixed = oy + (SEGMENT_HEIGHT - relative_y)  # å°‡ Y è»¸å‘ä¸‹å¢åŠ çš„ç›¸å°åº§æ¨™ (0-6) è½‰æ›ç‚º Y è»¸å‘ä¸Šå¢åŠ çš„ç¹ªåœ–åº§æ¨™ã€‚    # åˆå§‹ä½ç½®  start_x = ox + path[0][0]  start_y = oy + (SEGMENT_HEIGHT - path[0][1]) # é—œéµåè½‰  robot.teleport_to(start_x, start_y)    for j in range(1, len(path)):  tx = ox + path[j][0]  ty = oy + (SEGMENT_HEIGHT - path[j][1]) # é—œéµåè½‰  robot.move_to(tx, ty, draw_trace=True) \n # ==================== ä¸»ç¨‹å¼ï¼šç•« 0123456789 ==================== # ä¿®æ­£ World å¯¬åº¦ï¼Œä»¥å®¹ç´ 10 å€‹æ•¸å­— (10 * 6 å¯¬åº¦ + é‚Šè·) world = MyWorld(65, 10, sub_cell=5)  # å°‡æ©Ÿå™¨äººèµ·å§‹é»è¨­åœ¨ç´°æ ¼ (0, 0) é™„è¿‘ robot = MyRobot(world, 0, 0) \n # Y è»¸åç§»é‡ oyï¼š START_Y_SUB_CELL = 1 \n for i in range(10):  # æ¯å€‹æ•¸å­—çš„èµ·å§‹ X ç´°æ ¼åº§æ¨™ (æ¯å€‹æ•¸å­—å¯¬åº¦ 4ï¼Œé–“éš” 2ï¼Œå…± 6 å¯¬åº¦)  start_x_offset = 1 + i * 6   draw_digit(robot, i, start_x_offset, START_Y_SUB_CELL) \n print("æ©Ÿå™¨äººæ­£åœ¨å¯«å­—ï¼š0123456789 (å·²ä¿®æ­£åº§æ¨™åè½‰å•é¡Œ)") \n \n', 'tags': '', 'url': 'æ©Ÿå™¨äººä¸ƒæ®µç¨‹å¼ç¢¼.html'}, {'title': 'æœŸæœ«å ±å‘Š1(w14ä¸‰å€‹æ“ä½œ)', 'text': '', 'tags': '', 'url': 'æœŸæœ«å ±å‘Š1(w14ä¸‰å€‹æ“ä½œ).html'}, {'title': 'æ“ä½œä¸€ã€æ“ä½œäºŒ', 'text': 'å½±ç‰‡: https://youtu.be/HyKCpGbWiek \n', 'tags': '', 'url': 'æ“ä½œä¸€ã€æ“ä½œäºŒ.html'}, {'title': 'ç¬¬äºŒå€‹ç¨‹å¼çš„åŸ·è¡Œ', 'text': 'å½±ç‰‡: https://youtu.be/gs6Zbh4u41A \n', 'tags': '', 'url': 'ç¬¬äºŒå€‹ç¨‹å¼çš„åŸ·è¡Œ.html'}, {'title': 'ç¬¬ä¸‰å€‹æ†¤æ€’é³¥å°éŠæˆ²', 'text': 'å½±ç‰‡: https://youtu.be/Mebi7DRFnMc \n', 'tags': '', 'url': 'ç¬¬ä¸‰å€‹æ†¤æ€’é³¥å°éŠæˆ².html'}, {'title': 'æœŸæœ«å ±å‘Š2(ç¨‹å¼æ–°åŠŸèƒ½)', 'text': '', 'tags': '', 'url': 'æœŸæœ«å ±å‘Š2(ç¨‹å¼æ–°åŠŸèƒ½).html'}, {'title': 'ç¬¬äºŒå€‹ç¨‹å¼çš„æ”¹è‰¯', 'text': 'ä»¥ä¸‹æ˜¯ç¬¬äºŒå€‹ç¨‹å¼çš„åŸå§‹ç¢¼åˆ†æ: \n ä¸€ã€æ•´é«”æ¶æ§‹ç¸½è¦½ \n é€™æ˜¯ä¸€å€‹ï¼šFlask ç¶²é  + Brython å¯«çš„é»æ“Šå°éŠæˆ² + Ajax ä¸Šå‚³åˆ†æ•¸ \n ğŸ“Œ æŠ€è¡“è§’è‰²åˆ†å·¥ï¼š \n æŠ€è¡“ ç”¨é€” Flask å¾Œç«¯ä¼ºæœå™¨ã€åˆ†æ•¸å„²å­˜ Jinja2 HTML æ¨¡æ¿å¼•æ“ Brython åœ¨ç€è¦½å™¨åŸ·è¡Œ Python JavaScript (Ajax) éåŒæ­¥é€åˆ†æ•¸ HTML / CSS éŠæˆ²ç•«é¢ \n äºŒã€Jinja2 æ¨¡æ¿çµæ§‹èªªæ˜ \n {% extends "base.html" %} \n ğŸ”¹ ç¹¼æ‰¿ base.html \n ä½¿ç”¨ Flask å¸¸è¦‹çš„ æ¨¡æ¿ç¹¼æ‰¿ \n base.html é€šå¸¸åŒ…å«ï¼š \n <html> \n <head> \n å°è¦½åˆ— \n å…±ç”¨ CSS {% block title %}Brython éŠæˆ²{% endblock %} ğŸ”¹ è¨­å®šé é¢æ¨™é¡Œ å°æ‡‰ base.html è£¡çš„ {% block title %} \n ç€è¦½å™¨æ¨™é¡Œé¡¯ç¤ºã€ŒBrython éŠæˆ²ã€ \n {% block content %} ... {% endblock %} ğŸ”¹ ä¸»å…§å®¹å€ æ•´å€‹éŠæˆ²ç•«é¢éƒ½åœ¨é€™å€‹å€å¡Šå…§ \n \n ä¸‰ã€è¼‰å…¥ Brython \n <script src="https://cdn.jsdelivr.net/npm/brython@3.11.3/brython.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/brython@3.11.3/brython_stdlib.js"></script> ğŸ”¹ é€™å…©å€‹åšä»€éº¼ï¼Ÿ æª”æ¡ˆ åŠŸèƒ½ brython.min.js Brython æ ¸å¿ƒ brython_stdlib.js Python æ¨™æº–å‡½å¼åº« ğŸ“Œ æ²’æœ‰å®ƒå€‘ï¼Œç€è¦½å™¨çœ‹ä¸æ‡‚ <script type="text/python"> \n <body onload="brython(1)"> ğŸ”¹ å•Ÿå‹• Brython ç¶²é è¼‰å…¥å®Œæˆ â†’ å•Ÿå‹• Brython \n 1 ä»£è¡¨ã€Œdebug æ¨¡å¼ã€ \n \n å››ã€éŠæˆ²ç•«é¢ HTML \n <h2 style="text-align: center;">ğŸ•¹ï¸ é»æ“Šæ¸¬è©¦ï¼šé»æ“Šç§»å‹•ä¸­çš„åœ“å½¢ï¼</h2> â¡ï¸ éŠæˆ²æ¨™é¡Œ \n <div id="brython_div1" style="width: 600px; height: 400px; margin: 20px auto;"></div> ğŸ”¹ éŠæˆ²å ´åœ° å¯¬ï¼š600px \n é«˜ï¼š400px \n æ‰€æœ‰éŠæˆ²å…ƒç´ éƒ½å‹•æ…‹åŠ åˆ°é€™è£¡ \n \n äº”ã€ç‚ºä»€éº¼è¦ç”¨ {% raw %}ï¼Ÿ \n {% raw %} <script type="text/python"> ğŸ”¹ è§£æ±ºçš„å•é¡Œ Brython è£¡æœ‰ï¼š \n f"{score}" \n {} \n âš ï¸ Jinja2 æœƒèª¤ä»¥ç‚ºæ˜¯æ¨¡æ¿èªæ³• \n â¡ï¸ {% raw %} å‘Šè¨´ Jinja2ï¼šã€Œé€™ä¸€æ®µæˆ‘ä¸è§£æï¼ŒåŸå°ä¸å‹•äº¤çµ¦ç€è¦½å™¨ã€ \n \n å…­ã€Brythonï¼šåŒ¯å…¥æ¨¡çµ„ \n from browser import document, timer, window, ajax import random import time ğŸ”¹ æ¯å€‹æ¨¡çµ„ç”¨é€” æ¨¡çµ„ åŠŸèƒ½ document æ“ä½œ DOM timer setTimeout / setInterval window JS çš„ window ajax Ajax è«‹æ±‚ random éš¨æ©Ÿä½ç½®ã€é¡è‰² time è¨ˆæ™‚ \n ä¸ƒã€éŠæˆ²å…¨åŸŸè¨­å®š \n GAME_DURATION = 30 score = 0 game_active = False è®Šæ•¸ èªªæ˜ GAME_DURATION éŠæˆ²æ™‚é–“ï¼ˆç§’ï¼‰ score ç©å®¶åˆ†æ•¸ game_active æ˜¯å¦é€²è¡Œä¸­ \n å…«ã€åˆå§‹åŒ–éŠæˆ²å€ï¼ˆDOM æ“ä½œï¼‰ \n game_area = document["brython_div1"] â¡ï¸ æŠ“å– <div id="brython_div1"> \n game_area.style.border = "3px solid #333" game_area.style.backgroundColor = "#e0e0ff" game_area.style.position = "relative" \n ğŸ”¹ ç‚ºä»€éº¼è¦ position: relativeï¼Ÿ \n ğŸ‘‰ è®“è£¡é¢çš„åœ“å½¢å¯ä»¥ç”¨ absolute å®šä½ \n \n ä¹ã€åˆ†æ•¸èˆ‡æ™‚é–“é¡¯ç¤ºå€ \n score_display = document.createElement("div") timer_display = document.createElement("div") å·¦ä¸Šè§’ï¼šåˆ†æ•¸ \n å³ä¸Šè§’ï¼šå€’æ•¸æ™‚é–“ \n ğŸ“Œ é€™äº›éƒ½æ˜¯ å‹•æ…‹å»ºç«‹çš„ DOM å…ƒç´  \n åã€ç›®æ¨™åœ“å½¢ï¼ˆéŠæˆ²æ ¸å¿ƒï¼‰ \n target = document.createElement("div") target.style.width = "50px" target.style.height = "50px" target.style.borderRadius = "50%" â¡ï¸ ä¸€å€‹ 50Ã—50 çš„åœ“å½¢ \n target.style.transition = "top 0.3s, left 0.3s" â¡ï¸ å¹³æ»‘ç§»å‹•å‹•ç•« \n \n åä¸€ã€ç§»å‹•åœ“å½¢ \n def move_target(): ğŸ”¹ åŠŸèƒ½æµç¨‹ æª¢æŸ¥éŠæˆ²æ˜¯å¦é€²è¡Œä¸­ \n è¨ˆç®—æœ€å¤§å¯ç§»å‹•ç¯„åœ \n éš¨æ©Ÿç”¢ç”Ÿæ–°ä½ç½® \n éš¨æ©Ÿé¡è‰² \n æ›´æ–° top / left \n ğŸ“Œ min_y = 40 â†’ é¿å…è“‹ä½ä¸Šæ–¹åˆ†æ•¸æ¬„ \n \n åäºŒã€é»æ“Šäº‹ä»¶ \n @target.bind("click") def hit_target(event): ğŸ”¹ é€™è£¡å¾ˆé‡è¦ï¼ åªæœ‰é»åˆ°åœ“å½¢æ‰æœƒè§¸ç™¼ \n ä¸ç”¨é¡å¤–è¨ˆç®—è·é›¢ \n æµç¨‹ï¼š \n åˆ†æ•¸ +1 \n æ›´æ–°é¡¯ç¤º \n åœ“å½¢ç«‹å³ç§»å‹• \n stopPropagation() é˜²æ­¢äº‹ä»¶å†’æ³¡ \n \n åä¸‰ã€Ajax ä¸Šå‚³åˆ†æ•¸ï¼ˆBrython â†’ Flaskï¼‰ \n req.open(\'POST\', \'{{ url_for("submit_score") }}\', True) \n ğŸ”¹ ç‚ºä»€éº¼è¦ {% endraw %}ï¼Ÿ \n url_for() å¿…é ˆç”± Jinja2 è™•ç† \n Brython ä¸èªå¾— Flask \n ğŸ‘‰ é€™æ˜¯ Flask + Brython æ··ç”¨çš„æ¨™æº–å¯«æ³• \n json_payload = window.JSON.stringify({\'score\': final_score}) req.send(json_payload) â¡ï¸ é€å‡º JSONï¼š \n { "score": 15 } \n åå››ã€å€’æ•¸è¨ˆæ™‚èˆ‡éŠæˆ²çµæŸ \n def check_time(): æ¯ç§’åŸ·è¡Œï¼š \n è¨ˆç®—å‰©é¤˜æ™‚é–“ \n æ™‚é–“åˆ°ï¼š \n åœæ­¢éŠæˆ² \n ä¸Šå‚³åˆ†æ•¸ \n é¡¯ç¤ºçµæŸç•«é¢ \n æ¸…é™¤ç§»å‹•è¨ˆæ™‚å™¨ \n \n åäº”ã€é‡æ–°é–‹å§‹ \n def restart_game(event): éš±è—çµæŸç•«é¢ \n é‡æ–°åˆå§‹åŒ–éŠæˆ² \n \n åå…­ã€éŠæˆ²å•Ÿå‹•æµç¨‹ \n def start_game(): score = 0 game_active = True check_time() move_target() timer.set_interval(move_target, 800) ğŸ“Œ å•Ÿå‹•æ™‚æœƒï¼š \n åˆ†æ•¸æ­¸é›¶ \n å•Ÿå‹•å€’æ•¸ \n æ¯ 0.8 ç§’ç§»å‹•ä¸€æ¬¡åœ“å½¢ \n start_game() â¡ï¸ ç¶²é ä¸€æ‰“é–‹å°±é–‹å§‹éŠæˆ² ğŸ®', 'tags': '', 'url': 'ç¬¬äºŒå€‹ç¨‹å¼çš„æ”¹è‰¯.html'}, {'title': 'æˆ‘æ‰€æ·»åŠ çš„ç¨‹å¼æ–°åŠŸèƒ½', 'text': 'æˆ‘æŠŠç¨‹å¼æ”¹æˆï¼š \n æ‰‹æ©Ÿå¯ç©  â†’ é™¤äº† click ä¹Ÿæ”¯æ´ touchstart äº‹ä»¶ \n åœ“é»é¡è‰²å›ºå®š  â†’ ç§»é™¤éš¨æ©Ÿé¡è‰²ï¼Œè¨­å®šå›ºå®šé¡è‰²ï¼ˆä¾‹å¦‚ #ff4500ï¼‰ \n ä»¥ä¸‹æ˜¯æˆ‘çš„ç¨‹å¼ç¢¼: \n # --- éŠæˆ²æ ¸å¿ƒé‚è¼¯ --- \n def move_target():  """ç§»å‹•ç›®æ¨™å…ƒç´ """  if not game_active:  return    max_x = game_area.clientWidth - 50  max_y = game_area.clientHeight - 50  min_y = 40 \n new_x = random.randint(0, max(0, max_x))  new_y = random.randint(min_y, max(min_y, max_y))    # ğŸ”¹ å›ºå®šé¡è‰²ï¼Œç§»é™¤éš¨æ©Ÿé¡è‰²  target.style.backgroundColor = "#ff4500"    target.style.left = f"{new_x}px"  target.style.top = f"{new_y}px" \n # ğŸ”¹ åŒæ™‚ç¶å®š click èˆ‡ touchstart äº‹ä»¶ï¼Œæ‰‹æ©Ÿä¹Ÿå¯è§¸ç™¼ def hit_target(event):  """é»æ“Šæˆ–è§¸ç¢°ç›®æ¨™æ™‚è§¸ç™¼"""  global score  if not game_active:  return \n score += 1  score_display.text = f"åˆ†æ•¸: {score}"  move_target()  event.stopPropagation() \n target.bind("click", hit_target) target.bind("touchstart", hit_target) # ğŸ”¹ æ–°å¢æ‰‹æ©Ÿè§¸æ§æ”¯æ´ \n ä¿®æ”¹é‡é»èªªæ˜ï¼š \n 1.å›ºå®šé¡è‰² \n target.style.backgroundColor = "#ff4500" \n 2.ä¸å†éš¨æ©Ÿç”¢ç”Ÿ RGBã€‚ \n æ‰‹æ©Ÿæ”¯æ´ \n target.bind("touchstart", hit_target) \n æ‰‹æ©Ÿç€è¦½å™¨ä¸ä¸€å®šè§¸ç™¼ clickï¼ŒåŠ å…¥ touchstart æ‰èƒ½è§¸ç¢°åœ“é»å¾—åˆ†ã€‚ \n 3.åŸæœ‰å‹•ç•«ä»ä¿ç•™ \n åœ“å½¢ç§»å‹•ä¾èˆŠå¹³æ»‘ (transition) \n æˆ‘å†æ¬¡ä¿®æ”¹ï¼ŒæŠŠéŠæˆ²æ”¹æˆæ‰‹æ©Ÿå‹å–„ç‰ˆï¼ŒåŒ…å«ï¼š \n ç•«é¢è‡ªé©æ‡‰æ‰‹æ©Ÿå¯¬åº¦ï¼ˆæœ€å¤§ 600pxï¼Œæœ€å° 320pxï¼‰ \n åœ“é»å›ºå®šé¡è‰² \n æ‰‹æ©Ÿè§¸æ§æ”¯æ´ \n ä¸‹é¢æ˜¯å®Œæ•´çš„ä¿®æ”¹ç¯„ä¾‹ï¼ˆåªä¿®æ”¹ HTML èˆ‡ Brython éƒ¨åˆ†ï¼‰ï¼š \n <div id="brython_div1" style="width: 100%; max-width: 600px; min-width: 320px; height: 400px; margin: 20px auto;"></div> \n å¯¬åº¦ç”¨ 100%ï¼Œæ‰‹æ©Ÿæœƒè‡ªå‹•ç¸®æ”¾ \n max-width: 600px â†’ æ¡Œæ©Ÿä¸æœƒå¤ªå¤§ \n min-width: 320px â†’ æ‰‹æ©Ÿè¢å¹•æœ€å°å¯¬åº¦ \n # --- éŠæˆ²æ ¸å¿ƒé‚è¼¯ --- \n def move_target():  """ç§»å‹•ç›®æ¨™å…ƒç´ """  if not game_active:  return    max_x = game_area.clientWidth - 50  max_y = game_area.clientHeight - 50  min_y = 40 \n new_x = random.randint(0, max(0, max_x))  new_y = random.randint(min_y, max(min_y, max_y))    # ğŸ”¹ å›ºå®šé¡è‰²  target.style.backgroundColor = "#ff4500"    target.style.left = f"{new_x}px"  target.style.top = f"{new_y}px" \n # ğŸ”¹ åŒæ™‚ç¶å®š click èˆ‡ touchstartï¼Œæ‰‹æ©Ÿå¯ç© def hit_target(event):  global score  if not game_active:  return \n score += 1  score_display.text = f"åˆ†æ•¸: {score}"  move_target()  event.stopPropagation() \n target.bind("click", hit_target) target.bind("touchstart", hit_target) # ğŸ”¹ æ‰‹æ©Ÿè§¸æ§æ”¯æ´ \n ğŸ”¹ é¡å¤–å»ºè­°ï¼šç•«é¢é©æ‡‰æ€§ \n è‹¥å¸Œæœ›åœ“å½¢å¤§å°ä¹Ÿéš¨è¢å¹•å¯¬åº¦è‡ªå‹•ç¸®æ”¾ï¼š \n target_size = min(50, game_area.clientWidth * 0.1) target.style.width = f"{target_size}px" target.style.height = f"{target_size}px" \n æ‰‹æ©Ÿè¢å¹•å°æ™‚ï¼Œåœ“å½¢æœƒè‡ªå‹•ç¸®å°åˆ° 10% çš„ç•«é¢å¯¬åº¦ \n æ¡Œæ©Ÿç¶­æŒæœ€å¤§ 50px \n ä¿®æ”¹å¾Œæ•ˆæœï¼š \n æ‰‹æ©Ÿèˆ‡å¹³æ¿éƒ½å¯ä»¥è§¸ç¢°åœ“é»å¾—åˆ† \n åœ“é»é¡è‰²å›ºå®šï¼ŒéŠæˆ²æ›´ç©©å®š \n æ‰‹æ©Ÿè‡ªé©æ‡‰å¯¬åº¦ï¼ŒéŠæˆ²ç•«é¢ä¸æœƒè¶…å‡ºè¢å¹• \n æœ€å¾Œæ•´åˆ: \n {% extends "base.html" %} \n {% block title %}Brython éŠæˆ²{% endblock %} \n {% block content %}  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.11.3/brython.min.js"></script>  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.11.3/brython_stdlib.js"></script>    <body onload="brython(1)"> \n <h2 style="text-align: center;">ğŸ•¹ï¸ é»æ“Šæ¸¬è©¦ï¼šé»æ“Šç§»å‹•ä¸­çš„åœ“å½¢ï¼</h2> \n <div id="brython_div1" style="width: 100%; max-width: 600px; min-width: 320px; height: 400px; margin: 20px auto;">  </div> \n {% raw %}   <script type="text/python">  from browser import document, timer, window, ajax  import random  import time \n # --- éŠæˆ²è¨­å®š ---  GAME_DURATION = 30   score = 0  game_active = False \n # --- ç²å– DOM å…ƒç´ åŠåˆå§‹åŒ– ---  game_area = document["brython_div1"]  game_area.style.border = "3px solid #333"  game_area.style.backgroundColor = "#e0e0ff"  game_area.style.position = "relative"  game_area.style.overflow = "hidden"  game_area.style.cursor = "crosshair" \n # åˆ†æ•¸èˆ‡æ™‚é–“é¡¯ç¤º  score_display = document.createElement("div")  score_display.style.position = "absolute"  score_display.style.top = "10px"  score_display.style.left = "10px"  score_display.style.fontSize = "1.2em"  score_display.style.fontWeight = "bold"  score_display.style.backgroundColor = "rgba(255, 255, 255, 0.7)"  score_display.style.padding = "5px"  game_area <= score_display \n timer_display = document.createElement("div")  timer_display.style.position = "absolute"  timer_display.style.top = "10px"  timer_display.style.right = "10px"  timer_display.style.fontSize = "1.2em"  timer_display.style.fontWeight = "bold"  timer_display.style.backgroundColor = "rgba(255, 255, 255, 0.7)"  timer_display.style.padding = "5px"  game_area <= timer_display \n # å‰µå»ºç›®æ¨™åœ“é»  target = document.createElement("div")  target.id = "target"  target.style.width = "50px"  target.style.height = "50px"  target.style.backgroundColor = "#ff4500" # ğŸ”¹ å›ºå®šé¡è‰²  target.style.position = "absolute"  target.style.borderRadius = "50%"  target.style.cursor = "pointer"  target.style.transition = "background-color 0.1s, top 0.3s, left 0.3s"  game_area <= target \n # éŠæˆ²çµæŸè¨Šæ¯  game_over_msg = document.createElement("div")  game_over_msg.style.position = "absolute"  game_over_msg.style.top = "50%"  game_over_msg.style.left = "50%"  game_over_msg.style.transform = "translate(-50%, -50%)"  game_over_msg.style.backgroundColor = "rgba(0, 0, 0, 0.9)"  game_over_msg.style.color = "white"  game_over_msg.style.padding = "30px"  game_over_msg.style.borderRadius = "10px"  game_over_msg.style.fontSize = "2em"  game_over_msg.style.zIndex = "100"  game_over_msg.style.display = "none"  game_over_msg.style.textAlign = "center"  game_area <= game_over_msg \n # --- éŠæˆ²æ ¸å¿ƒé‚è¼¯ ---  def move_target():  if not game_active:  return    max_x = game_area.clientWidth - 50  max_y = game_area.clientHeight - 50  min_y = 40 \n new_x = random.randint(0, max(0, max_x))  new_y = random.randint(min_y, max(min_y, max_y))    target.style.left = f"{new_x}px"  target.style.top = f"{new_y}px"  # ğŸ”¹ é¡è‰²å›ºå®šï¼Œä¸å†éš¨æ©Ÿ  target.style.backgroundColor = "#ff4500" \n # ğŸ”¹ é»æ“Šæˆ–è§¸ç¢°éƒ½èƒ½å¾—åˆ†ï¼ˆæ‰‹æ©Ÿå¯ç©ï¼‰  def hit_target(event):  global score  if not game_active:  return \n score += 1  score_display.text = f"åˆ†æ•¸: {score}"  move_target()  event.stopPropagation() \n target.bind("click", hit_target)  target.bind("touchstart", hit_target) # ğŸ”¹ æ‰‹æ©Ÿè§¸æ§ \n def submit_score_to_server(final_score):  def on_complete(req):  if req.status == 200:  window.alert("åˆ†æ•¸æˆåŠŸä¸Šå‚³è‡³è‹±é›„æ¦œï¼")  else:  try:  resp = window.JSON.parse(req.text)  msg = resp.message  except:  msg = "è«‹æª¢æŸ¥ç™»å…¥ç‹€æ…‹æˆ–ä¼ºæœå™¨ç‹€æ…‹ï¼Œæˆ–ç¢ºä¿æ‚¨å·²ç™»å…¥ã€‚"  window.alert(f"åˆ†æ•¸ä¸Šå‚³å¤±æ•— ({req.status})ï¼{msg}")    req = ajax.ajax()  req.bind(\'complete\', on_complete)    {% endraw %}  req.open(\'POST\', \'{{ url_for("submit_score") }}\', True)  {% raw %}    req.set_header(\'Content-Type\', \'application/json\')  data = {\'score\': final_score}  json_payload = window.JSON.stringify(data)  req.send(json_payload) \n def restart_game(event):  game_over_msg.style.display = "none"  start_game()  event.stopPropagation() \n def check_time():  global game_active  remaining = int(game_over_time - time.time())    if remaining <= 0:  timer_display.text = "æ™‚é–“: 0s"  if game_active:  game_active = False  submit_score_to_server(score)  game_over_msg.innerHTML = f"éŠæˆ²çµæŸï¼<br>æœ€çµ‚åˆ†æ•¸: {score}"    restart_btn = document.createElement("button")  restart_btn.text = "é‡æ–°é–‹å§‹"  restart_btn.style.marginTop = "15px"  restart_btn.style.padding = "10px 20px"  restart_btn.style.fontSize = "0.7em"  restart_btn.style.cursor = "pointer"  restart_btn.bind("click", restart_game)    game_over_msg <= document.createElement("br")  game_over_msg <= restart_btn  game_over_msg.style.display = "block"    timer.clear_interval(move_interval_handle)  else:  timer_display.text = f"æ™‚é–“: {remaining}s"  timer.set_timeout(check_time, 1000) \n # --- éŠæˆ²å•Ÿå‹• ---  def start_game():  global game_active, game_over_time, move_interval_handle, score  score = 0  game_active = True  score_display.text = "åˆ†æ•¸: 0"  timer_display.text = f"æ™‚é–“: {GAME_DURATION}s"    game_over_time = time.time() + GAME_DURATION    check_time()  move_target()  move_interval_handle = timer.set_interval(move_target, 800) \n # å•Ÿå‹•éŠæˆ²  start_game() \n </script>  {% endraw %}    </body> {% endblock %} \n ä¿®æ”¹é‡é»ç¸½çµï¼š \n æ‰‹æ©Ÿè‡ªé©æ‡‰ç•«é¢ï¼š \n width: 100%; max-width: 600px; min-width: 320px; \n å›ºå®šåœ“é»é¡è‰²ï¼š \n target.style.backgroundColor = "#ff4500" \n æ‰‹æ©Ÿè§¸æ§æ”¯æ´ï¼š \n target.bind("touchstart", hit_target) \n é€™å€‹ç‰ˆæœ¬ï¼š \n æ‰‹æ©Ÿå’Œå¹³æ¿éƒ½èƒ½æ­£å¸¸é»æ“Š / è§¸ç¢°åœ“é» \n ç•«é¢è‡ªå‹•ç¸®æ”¾ï¼Œä¸æœƒè¶…å‡ºæ‰‹æ©Ÿè¢å¹• \n é¡è‰²å›ºå®šï¼ŒéŠæˆ²æ›´ç©©å®š \n \n', 'tags': '', 'url': 'æˆ‘æ‰€æ·»åŠ çš„ç¨‹å¼æ–°åŠŸèƒ½.html'}]};